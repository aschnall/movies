{"ast":null,"code":"import { useState, useEffect } from 'react';\n\nconst useCast = () => {\n  const [stars, setStars] = useState('');\n  const [director, setDirector] = useState('');\n  useEffect(() => {\n    castSearch(id);\n  }, [id]);\n\n  const castSearch = async id => {\n    let credits = await fetch(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`);\n    credits = await credits.json();\n    let stars = credits.cast.slice(0, 4);\n    stars = stars.map(obj => obj.name).join(', ');\n    let director = {};\n\n    for (let i = 0; i < credits.crew.length; i++) {\n      if (credits.crew[i].job === 'Director' && credits.crew[i].department === 'Directing') {\n        director = credits.crew[i];\n        break;\n      }\n    }\n\n    setStars(stars);\n    setDirector(director.name);\n  };\n\n  return [stars, director];\n};\n\nexport default useCast;","map":{"version":3,"sources":["/Users/aschnall/Documents/Portfolio/movies-hooks/src/hooks/useCast.js"],"names":["useState","useEffect","useCast","stars","setStars","director","setDirector","castSearch","id","credits","fetch","KEY","json","cast","slice","map","obj","name","join","i","crew","length","job","department"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAGA,MAAMC,OAAO,GAAG,MAAM;AACrB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACfM,IAAAA,UAAU,CAACC,EAAD,CAAV;AACA,GAFQ,EAEN,CAACA,EAAD,CAFM,CAAT;;AAIA,QAAMD,UAAU,GAAG,MAAMC,EAAN,IAAY;AAC9B,QAAIC,OAAO,GAAG,MAAMC,KAAK,CAAE,sCAAqCF,EAAG,oBAAmBG,GAAI,EAAjE,CAAzB;AACAF,IAAAA,OAAO,GAAG,MAAMA,OAAO,CAACG,IAAR,EAAhB;AACA,QAAIT,KAAK,GAAGM,OAAO,CAACI,IAAR,CAAaC,KAAb,CAAmB,CAAnB,EAAqB,CAArB,CAAZ;AACAX,IAAAA,KAAK,GAAGA,KAAK,CAACY,GAAN,CAAUC,GAAG,IAAIA,GAAG,CAACC,IAArB,EAA2BC,IAA3B,CAAgC,IAAhC,CAAR;AACA,QAAIb,QAAQ,GAAG,EAAf;;AACA,SAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,OAAO,CAACW,IAAR,CAAaC,MAAjC,EAAyCF,CAAC,EAA1C,EAA8C;AAC7C,UAAIV,OAAO,CAACW,IAAR,CAAaD,CAAb,EAAgBG,GAAhB,KAAsB,UAAtB,IAAoCb,OAAO,CAACW,IAAR,CAAaD,CAAb,EAAgBI,UAAhB,KAA6B,WAArE,EAAkF;AACjFlB,QAAAA,QAAQ,GAACI,OAAO,CAACW,IAAR,CAAaD,CAAb,CAAT;AACA;AACA;AACD;;AACDf,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACAG,IAAAA,WAAW,CAACD,QAAQ,CAACY,IAAV,CAAX;AACA,GAdD;;AAeA,SAAO,CAACd,KAAD,EAAQE,QAAR,CAAP;AACA,CAxBD;;AA0BA,eAAeH,OAAf","sourcesContent":["import { useState, useEffect } from 'react';\n\n\nconst useCast = () => {\n\tconst [stars, setStars] = useState('');\n\tconst [director, setDirector] = useState('');\n\n\tuseEffect(() => {\n\t\tcastSearch(id);\n\t}, [id])\n\n\tconst castSearch = async id => {\n\t\tlet credits = await fetch(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`);\n\t\tcredits = await credits.json();\n\t\tlet stars = credits.cast.slice(0,4);\n\t\tstars = stars.map(obj => obj.name).join(', ');\n\t\tlet director = {};\n\t\tfor (let i = 0; i < credits.crew.length; i++) {\n\t\t\tif (credits.crew[i].job==='Director' && credits.crew[i].department==='Directing') {\n\t\t\t\tdirector=credits.crew[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tsetStars(stars);\n\t\tsetDirector(director.name);\n\t}\n\treturn [stars, director];\n}\n\nexport default useCast;"]},"metadata":{},"sourceType":"module"}